# 通通锁蓝牙模块通信插件接口常见问题

###### 1. 10030, 启动蓝牙适配器失败
  请检查蓝牙是否已正确启动且相关权限已开启
  1. 安卓需开启系统蓝牙及位置权限、开启微信位置权限授权并授予小程序scope.bluetooth权限
  2. iOS需开启系统蓝牙、开启微信蓝牙授权并授予小程序scope.bluetooth权限
  3. 2.7.0及其之后版本，操作过程中关闭蓝牙或取消授权可能跳过权限检验而返回该错误

###### 2. 真机调试模式下设备连接已断开或无法正常操作
  真机调试模式下存在很大的通信延迟等问题，可能导致设备主动断开连接，iOS不支持真机调试模式
  1. 使用开发者工具中【预览】模式，扫描后打开小程序设置【...】-> 【开发调试】进行设备调试

###### 3. 10007, 10032, 10034等由于设备断连引起的问题
  设备无法连接或意外断开连接
  1. 2.7.0版本开始在接口调用完成后不再强行断开连接，可调用stopAllOperations接口，断开所有蓝牙操作后重新操作

###### 4. 11013, 蓝牙正在操作中，请稍候再试
  设备正在操作中，不能进行其它接口调用
  1. 等待其它接口调用完成并返回后再次调用
  2. 调用stopAllOperations接口，强行断开所有蓝牙操作后重新操作

###### 5. 11036, 搜索不到设备，已停止搜索，请确认是否在锁附近或稍后重试
  设备不在扫描范围内，无法进行连接
  1. 需要在设备旁边操作
  2. 确认设备在附近后，调用stopAllOperations接口，强行断开所有蓝牙操作并重启蓝牙，重新操作

###### 6. 10038, 微信基础库版本过低，请升级
  当前微信基础库版本需在2.14.1版本及其以上，插件中校验2.9.5版本及其以上

###### 7. iOS开锁过程慢
  iOS设备ID和安卓设备ID不匹配，在程序中会进行转换
  1. 2.7.0版本开始支持传入deviceId，在进行一次蓝牙操作成功后会在返回参数中返回deviceId, 第二次调用时可将该参数传入以跳过设备转换
  2. 安卓设备不进行设备转换，deviceId不必传入